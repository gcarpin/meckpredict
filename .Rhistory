midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
midterm_num
unlist(midterm_num)
midterm_num
unlist(midterm_num)
midterm_num
unlist(midterm_num)
text_pattern2 <- "[A-Za-z0-9_]+\\.[A-Za-z]{3,4}"
midterm_letter <- str_extract_all(midterm_files, pattern = text_pattern2)
unlist(midterm_letter)
url_co2 <- "https://www.worldometers.info/co2-emissions/co2-emissions-by-country"
page_co2 <- read_html(co2)
page_co2 <- read_html(url_co2)
library(rvest)
page_co2 <- read_html(url_co2)
table_co2 <- read_table(page_co2)
page_co2 <- read_html(url_co2)
table_co2 <- html_table(page_co2)
table_co2
co2 <- table_co2[[1]]
View(co2)
country_max <- max(co2$`CO2 emissions (tons, 2022)`)
country_max <- co2[which.max(co2$`CO2 emissions (tons, 2022)`)]
View(country_max)
print(country_max)
country_max <- max(co2$`CO2 emissions (tons, 2022)`)
print(country_max)
co2 %>%
arrange(desc(`CO2 emissions (tons, 2022)`)) %>%
slice(1) %>%
select(Country, `CO2 emissions (tons, 2022)`)
co2 %>%
arrange(desc(`CO2 emissions (tons, 2022)`)) %>%
select(Country, `CO2 emissions (tons, 2022)`)
select(Country, `CO2 emissions (tons, 2022)`)
co2 <- table_co2[[1]]
select(Country, `CO2 emissions (tons, 2022)`)
co2 <- table_co2[[1]]
co2 %>%
max(`CO2 emissions (tons, 2022)`) %>%
select(Country, `CO2 emissions (tons, 2022)`)
co2 %>% select(Country, `CO2 emissions (tons, 2022)`)
co2[1,1]
co2 %>%
slice(1)%>%
select(Country, `CO2 emissions (tons, 2022)`)
co2 %>%
slice(1) %>%
select(Country)
slice(1) %>%
select(Country)
co2 %>%
arrange(desc(co2$`1 Year Change`)) %>%
slice(1) %>%
select(Country)
min(co2$`1 Year Change`)
max(co2$`1 Year Change`)
co2 %>%
arrange(desc(co2$`1 Year Change`)) %>%
slice(1) %>%
select(Country)
co2 %>%
arrange(desc(co2$`1 Year Change`)) %>%
slice(1) %>%
select(Country, `1 Year Change`)
min(co2$`1 Year Change`)
max(co2$`1 Year Change`)
co2 %>%
arrange(co2$`1 Year Change`) %>%
slice(1) %>%
select(Country, `1 Year Change`)
(Country, `1 Year Change`)
co2 %>%
arrange(`1 Year Change`) %>%
slice(1) %>%
select(Country, `1 Year Change`)
?arrange
co2 <- co2 %>%
as.numeric(co2$`1 Year Change`)
as.numeric(co2$`1 Year Change`)
as.numeric(co2$`1 Year Change`)
text_pattern <- "\\$[0-9,.]+"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9,.]+\\[.]?[0-9]"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9,.]+\\[.]?[0-9]{0,2}"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9,]+\\[.]?[0-9]"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
midterm_files <- readLines(midterm_txt)
text_pattern <- "\\$[0-9,]+\\[.]?[0-9]"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9]+[.]?[0-9]"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9]*[,]?[0-9]+[.]?[0-9]"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
text_pattern <- "\\$[0-9]*[,]?[0-9]+[.]?[0-9]*"
midterm_num <- str_extract_all(midterm_files, pattern = text_pattern)
unlist(midterm_num)
View(page_co2)
View(page_co2)
View(page_co2)
getCoinProb = function(numFlips) {
samples = sample(c(0,1), numFlips, replace=T)
numHeads = sum(samples)
return(numHeads/numFlips)
}
getCoinProb(10)
getCoinProb(1000)
getCoinProb(100000)
sevenHeadsProb = function(numTrials) {
count = 0
for (i in 1:numTrials) {
if(getCoinProb(10)>=0.7) {
count = count + 1
}
}
return(count/numTrials)
}
sevenHeadsProb(10000)
getCoinProb = function(numFlips, headsProb=0.5) {
samples = sample(c(0,1), numFlips, replace=T, prob = c(1-headsProb, headsProb))
numHeads = sum(samples)
return(numHeads/numFlips)
}
knitr::opts_chunk$set(echo = TRUE)
hwdata <- load("C:/Users/gianc/Downloads/CEOsal.R")
summary(hwdata)
hwdata <- load("C:/Users/gianc/Downloads/CEOsal.R")
hwdata <- load("C:/Users/gianc/Downloads/CEOsal (1).R")
# API KEY STUFF
rm(list = ls())
hwdata <- load("C:/Users/gianc/Downloads/CEOsal (1).R")
View(CEOsal)
summary(CEOsal)
lm(data = CEOsal, salary ~ sales + roe + ros)
lmdata <- lm(data = CEOsal, salary ~ sales + roe + ros)
summary(lmdata)
lmdata <- lm(data = CEOsal, log(salary) ~ log(sales) + roe + ros)
summary(lmdata)
lmdata <- lm(data = CEOsal, ln(salary) ~ ln(sales) + roe + ros)
lmdata <- lm(data = CEOsal, log(salary) ~ log(sales) + roe + ros)
summary(lmdata)
summary(lmdata)
pct_increase <- 50 * 100 * 4.311
summary(lmdata)
lmdata <- lm(data = CEOsal, log(salary) ~ log(sales) + roe + ros)
summary(lmdata)
pct_increase <- 50 * 100 * 0.002417
pct_increase
summary(lmdata)
View(CEOsal)
qt(0.90, df)
df = 205
qt(0.90, df)
?qt
load("C:/Users/gianc/Downloads/hprice.R")
summary(hprice)
load("C:/Users/gianc/Downloads/hprice.R")
summary(hprice)
lmdata2 <- (lm(data = hprice, log(price ~ sqrft + bdrms)))
lmdata2 <- (lm(data = hprice, log(price) ~ sqrft + bdrms)))
lmdata2 <- (lm(data = hprice, log(price) ~ sqrft + bdrms))
load("C:/Users/gianc/Downloads/hprice.R")
summary(hprice)
lmdata2 <- (lm(data = hprice, log(price) ~ sqrft + bdrms))
summary(lmdata2)
coef <- coef(lmdata2)
theta <-  150 * b1 + b2
b1 <- 0.000379
b2 <- 0.028884
theta <-  150 * b1 + b2
pct_change <- 100 * theta
pct_change
hprice$sqrft_new <- hprice$sqrft - 150 * hprice$bdrms
lmdata3 <- lm(data = hprice, log(price) ~ sqrft_new + bdrms))
lmdata3 <- lm(data = hprice, log(price) ~ sqrft_new + bdrms)
summary(lmdata3)
theta1 <- 0.0858
se <- 0.02677
cv <- 1.984
lower_bound <- theta1 - cv * se
upper_bound <- theta1 + cv * se
knitr::opts_chunk$set(echo = TRUE)
hwdata <- load("C:/Users/gianc/Downloads/CEOsal (1).R")
summary(CEOsal)
lmdata <- lm(data = CEOsal, log(salary) ~ log(sales) + roe + ros)
summary(lmdata)
pct_increase <- 50 * 100 * 0.002417
pct_increase
load("C:/Users/gianc/Downloads/hprice.R")
summary(hprice)
lmdata2 <- (lm(data = hprice, log(price) ~ sqrft + bdrms))
summary(lmdata2)
b1 <- 0.000379
b2 <- 0.028884
theta <-  150 * b1 + b2
pct_change <- 100 * theta
pct_change
hprice$sqrft_new <- hprice$sqrft - 150 * hprice$bdrms
lmdata3 <- lm(data = hprice, log(price) ~ sqrft_new + bdrms)4
hprice$sqrft_new <- hprice$sqrft - 150 * hprice$bdrms
lmdata3 <- lm(data = hprice, log(price) ~ sqrft_new + bdrms)
summary(lmdata3)
theta1 <- 0.0858
se <- 0.02677
cv <- 1.984
lower_bound <- theta1 - cv * se
upper_bound <- theta1 + cv * se
data_pl <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
View(data_pl)
if (20 < i == 3)
i = 1
if (20 < i == 3)
data_pl <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
data_pl <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
data_pl <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
masterrealestatedata <- na.omit(data.pl)
masterrealestatedata <- na.omit(data_pl)
View(masterrealestatedata)
View(masterrealestatedata)
library(tidyverse)
library(rvest)
library(tidycensus)
library(sf)
library(readxl)
library(readr)
library(dplyr)
library(purrr)
library(writexl)
library(RSelenium)
sales_data_county <- st_read("C:/Users/gianc/OneDrive/Desktop/ECON 8600/Parcel Sales/Parcel_Sales.shp")
View(sales_data_county)
data_pl <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
masterrealestatedata <- na.omit(data_pl)
View(lmdata3)
View(masterrealestatedata)
masterrealestatedata$Half_Bath <- gsub("-", "0", masterrealestatedata$Half_Bath)
masterrealestatedata <- na.omit(data_pl)
masterrealestatedata$Half_Bath <- gsub("-", "0", masterrealestatedata$Half_Bath)
View(masterrealestatedata)
labor_data <- read.csv("C:/Users/gianc/Downloads/North Carolina 6-digit detailed occupations employment projections PY2032 20251117 161138.csv")
View(labor_data)
oews <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8700/data sets/DETAILOES.csv")
View(oews)
oews <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8700/data sets/DETAILOES.csv")
View(oews)
View(sales_data_county)
masterrealestatedata$Half_Bath <- gsub("-", "0", masterrealestatedata$Half_Bath)
View(masterrealestatedata)
load(hprice)
load("C:/Users/gianc/OneDrive/Desktop/ECON 8700/hprice (1).R")
View(hprice)
model <- lm(price ~ lotsize + sqft + bdrms, data = hrpice)
model <- lm(price ~ lotsize + sqft + bdrms, data = hprice)
model <- lm(price ~ lotsize + sqrft + bdrms, data = hprice)
model
u_2 <- resid(model)^2
u_2 <- resid(model)^2
bp_model <- lm(u_2~ lotsize + sqrft + bdrms, data = hprice)
bp_model
summary(bp_model)
f_stat <- summary_aux$fstatistic[1]
bp_sum <- summary(bp_model)
f_stat <- bp_sum$fstatistic[1]
p_val_f <- pf(bp_sum$fstatistic[1],
bp_sum$fstatistic[2],
bp_sum$fstatistic[3],
lower.tail = FALSE)
bptest(model)
library(lmtest)
bptest(model)
white_test <- bptest(model, ~ fitted(model) + I(fitted(model)^2))
whtie_test
white_test
libray(sandwich)
library(sandwich)
install.packages("sandwich")
library(sandwich)
robust_model <- coeftest(model, vcov = vcovHC(model, type = "HC1"))
robust_model
model
summary(model)
load("C:/Users/gianc/OneDrive/Desktop/ECON 8700/k401.R")
single_data <- subset(k401, fsize == 1)
View(single_data)
View(single_data)
lm_401 <- lm(nettfa ~ inc, data = single_data)
summary(lm_401)
bptest(lm_401)
summary(lm_401)
bptest(lm_401)
single_data$nettfa_trans <- single_data$nettfa / sqrt(single_data$inc)
single_data$intercept_trans <- 1 / sqrt(single_data$inc)
single_data$inc_trans <- single_data$inc / sqrt(single_data$inc)
manual_wls <- lm(nettfa_trans ~ 0 + intercept_trans + inc_trans, data = single_data)
summary(manual_wls)
bptest(manual_wls)
summary(manual_wls)
auto_wls <- lm(nettfa ~ inc, data = single_data, weights = 1/inc)
summary(auto_wls)
bptest(manual_wls)
masterrealestatedata_t <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
View(masterrealestatedata_t)
masterrealestatedata_t <- na.omit(data_pl)
masterrealestatedata_t$Half_Bath <- gsub("-", "0", masterrealestatedata_t$Half_Bath)
plot(sale_year_scraped, mean(sale_price_scraped), data = masterrealestatedata_t)
plot(Sale_Year_Scraped, mean(Sale_Price_Scraped), data = masterrealestatedata_t)
?plot
plot(masterrealestatedata_t$Sale_Year_Scraped, mean(masterrealestatedata_t$Sale_Price_Scraped))
histogram(masterrealestatedata_t$Sale_Year_Scraped, mean(masterrealestatedata_t$Sale_Price_Scraped))
hist(masterrealestatedata_t$Sale_Year_Scraped, mean(masterrealestatedata_t$Sale_Price_Scraped))
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t$Sale_Price_Scraped = as.numeric(masterrealestatedata_t$Sale_Price_Scraped)
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
masterrealestatedata_t <- na.omit(data_pl)
masterrealestatedata_t$Half_Bath <- gsub("-", "0", masterrealestatedata_t$Half_Bath)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("$", "", masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("$", "", masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("$", "0", masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("//$", "", masterrealestatedata_t$Sale_Year_Scraped)
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
masterrealestatedata_t <- na.omit(data_pl)
masterrealestatedata_t$Half_Bath <- gsub("-", "0", masterrealestatedata_t$Half_Bath)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("//$", "", masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t$Sale_Price_Scraped <- gsub("//$", "", masterrealestatedata_t$Sale_Price_Scraped)
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
masterrealestatedata_t <- masterrealestatedata_t %>%
mutate(Sale_Price_Scraped = str_remove(Sale_Price_Scraped, "\\$"))
plot(masterrealestatedata_t$Sale_Year_Scraped, masterrealestatedata_t$Sale_Price_Scraped)
plot(masterrealestatedata_t$Sale_Year_Scraped, mean(masterrealestatedata_t$Sale_Price_Scraped))
plot(masterrealestatedata_t$Sale_Year_Scraped, mean(masterrealestatedata_t$Sale_Price_Scraped))
hist(masterrealestatedata_t$Sale_Year_Scraped)
hist(masterrealestatedata_t$Sale_Year_Scraped,
xlab = "Sale Year",
ylab = "Number of Homes Sold",
title = "Histogram of Homes Sold in Mecklenburg County")
hist(masterrealestatedata_t$Sale_Year_Scraped,
x = "Sale Year",
y = "Number of Homes Sold",
title = "Histogram of Homes Sold in Mecklenburg County")
?plot
hist(masterrealestatedata_t$Sale_Year_Scraped,
xlab = "Sale Year",
ylab = "Number of Homes Sold",
title = "Histogram of Homes Sold in Mecklenburg County")
hist(masterrealestatedata_t$Sale_Year_Scraped,
xlab = "Sale Year",
ylab = "Number of Homes Sold",
main = "Histogram of Homes Sold in Mecklenburg County")
library(tidyverse)
library(lmtest)
masterrealestatedata_t <- read.csv("C:/Users/gianc/OneDrive/Desktop/ECON 8600/PythonProject/scraped_real_estate_data_COMPLETE.csv")
masterrealestatedata_t <- na.omit(masterrealestatedata_t)
masterrealestatedata_t$Half_Bath <- gsub("-", "0", masterrealestatedata_t$Half_Bath)
masterrealestatedata_t <- masterrealestatedata_t %>%
mutate(Sale_Price_Scraped = str_remove(Sale_Price_Scraped, "\\$"))
hist(masterrealestatedata_t$Sale_Year_Scraped,
xlab = "Sale Year",
ylab = "Number of Homes Sold",
main = "Histogram of Homes Sold in Mecklenburg County")
library(shiny); runApp('C:/Users/gianc/OneDrive/Desktop/ECON 8600/R SHINY APPS/R shiny.R')
library(shiny); runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
library(shiny); runApp('R shiny.R')
runApp('R shiny.R')
library(shiny); runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
runApp('R shiny.R')
# --- 2. USER INTERFACE (UI) ---
ui <- dashboardPage(
skin = "blue",
dashboardHeader(title = "Mecklenburg Market"),
dashboardSidebar(
sidebarMenu(
# RQ1 & RQ2: Determinants & Price Shifts
menuItem("Market Trends", tabName = "dashboard", icon = icon("chart-line")),
# RQ3: Size Trends (Smaller vs Larger?)
menuItem("Consumer Behavior", tabName = "behavior", icon = icon("users")),
# RQ4: Consumer Tool (Decision Making)
menuItem("Valuation Tool", tabName = "predictor", icon = icon("calculator")),
# NEW: Model Insights
menuItem("Model Insights", tabName = "insights", icon = icon("microscope")),
menuItem("Raw Data", tabName = "data", icon = icon("table"))
),
hr(),
sliderInput("year_filter", "Filter Years:",
min = 2018, max = 2025, value = c(2018, 2025), sep = "")
),
dashboardBody(
tabItems(
# --- TAB 1: MARKET TRENDS (RQ1 & RQ2) ---
tabItem(tabName = "dashboard",
fluidRow(
valueBoxOutput("avg_price_box"),
valueBoxOutput("avg_ppsf_box"),
valueBoxOutput("total_sales_box")
),
fluidRow(
# Macro Plot: Price vs Rates
box(title = "Economic Impact", status = "danger", solidHeader = TRUE,
plotlyOutput("macro_plot"),
width = 12,
# Summary Explanation
br(),
div(style = "padding: 10px; background-color: #f9f9f9; border-left: 5px solid #dd4b39;",
h4("COVID Effect"),
p("In 2020, a distinct economic anomaly occurred where housing prices appreciated despite the global recession caused by the COVID-19 pandemic.
To mitigate economic shock, the Federal Reserve aggressively lowered the Federal Funds Rate to near-zero levels.
This monetary intervention directly suppressed borrowing costs, driving 30-year mortgage rates to historic lows.")
)
)
),
fluidRow(
# PPSF Plot: Answers "How have similar attributes changed?"
box(title = "Price per Square Foot", status = "primary", solidHeader = TRUE,
plotlyOutput("ppsf_plot"), width = 12
)
)
),
# --- TAB 2: CONSUMER BEHAVIOR (RQ3) ---
tabItem(tabName = "behavior",
fluidRow(
box(title = "Consumer Preferences on House Size", status = "warning", solidHeader = TRUE, width = 12,
plotlyOutput("size_boxplot")
)
),
fluidRow(
box(title = "Transaction Volume by Year", status = "info",
plotlyOutput("volume_plot"), width = 12)
)
),
# --- TAB 3: VALUATION TOOL (RQ4) ---
tabItem(tabName = "predictor",
fluidRow(
box(title = "Random Forest Price Predictor", status = "success", solidHeader = TRUE, width = 4,
numericInput("input_sqft", "Square Footage:", 2000, min=500, max=10000),
numericInput("input_bed", "Bedrooms:", 3, min=1, max=10),
numericInput("input_bath", "Total Baths:", 2.5, min=1, max=10),
numericInput("input_year", "Year Built:", 2010, min=1900, max=2025),
actionButton("predict_btn", "Calculate Estimate", class = "btn-lg btn-success")
),
box(title = "Estimated Market Value", status = "success", solidHeader = TRUE, width = 8,
h1(textOutput("prediction_result"), style = "color: green; font-weight: bold;"),
hr(),
h4("Consumer Application"),
p("Consumers can use this estimate as a baseline when negotiating offers or listing their home.
")
)
)
),
# --- TAB 4: MODEL INSIGHTS ---
tabItem(tabName = "insights",
fluidRow(
# Partial Dependence Plot
box(title = "Partial Dependendence Plots on Independent Variables", status = "primary", solidHeader = TRUE, width = 12,
fluidRow(
column(4, selectInput("pdp_var", "Select Attribute:",
choices = c("Square Footage" = "Sqft",
"Year Built" = "YearBuilt",
"Total Baths" = "TotalBaths",
"Bedrooms" = "Bdrms"))),
column(8, p("Marginal Effect of the selected variable.
"))
),
plotlyOutput("pdp_plot")
)
),
fluidRow(
# Confusion Matrix
box(title = "Model Accuracy: Confusion Matrix", status = "info", solidHeader = TRUE, width = 6,
plotOutput("confusion_matrix_plot"),
p("Darker blue squares represent correct predictions. Values off the diagonal indicate classification errors.")
),
box(title = "Performance Summary", status = "info", width = 6,
uiOutput("confusion_summary")
)
)
),
# --- TAB 5: DATA ---
tabItem(tabName = "data",
fluidRow(
box(width = 12, dataTableOutput("raw_table"))
)
)
)
)
)
runApp('R shiny.R')
runApp('R shiny.R')
library(shiny); runApp('R shiny.R')
library(shiny); runApp('R shiny.R')
library(shiny); runApp('R shiny.R')
